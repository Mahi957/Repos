<div class='survey-section'>

  <div class="card">
    <div class="card-header">
      Create a survey!
    </div>

    <div class="card-block">

      <form [formGroup]="surveyForm" (ngSubmit)="onFormSubmit(surveyForm)">

        <div formGroupName="Survey">

          <label>Name: </label>
          <input type="text" name="Name" formControlName="Name">

          <label>IsPrivate:</label>
          <input type="checkbox" name="IsPrivate" formControlName="IsPrivate">

          <label>IsActive:</label>
          <input type="checkbox" name="IsActive" formControlName="IsActive">

        </div>


        <div class='qa-set' formArrayName="QuestionAnswerSets">
          <fieldset *ngFor="let questionAnswerSet of surveyForm.controls.QuestionAnswerSets.controls; index as setId;" [formGroupName]="setId">
            <div formGroupName="Question">
              <label>Question :</label>
              <input type="text" name="Value" formControlName="Value">
            </div>

            <div class="row" formArrayName="Answers">
              <div *ngFor="let answer of this.surveyForm.controls.QuestionAnswerSets.controls[setId].controls.Answers.controls; index as answerId;"
                [formGroupName]="answerId">

                <div class="col-12 col-sm-3" formGroupName="Answer">
                  <input type="text" name="Value" formControlName="Value">
                </div>

              </div>
            </div>

          </fieldset>

          <button type="button" class="btn btn-primary" (click)="addQuestionAnswerSet($event)">Add Question</button>

        </div>

        <div class="row form-group">
          <div class="col-12">
            <button type="button" class="btn btn-primary float-right" type="submit">submit</button>
          </div>
        </div>

        <pre> Form Status: {{ surveyForm.status }}</pre>

      </form>
    </div>


  </div>

</div>